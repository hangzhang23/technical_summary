# 位操作相关题目集锦

#### LC338.比特位计数
比较直接的方法，每个数都转化为二进制，然后用count查询1的个数。  
O(nk)/O(n)
```python
class Solution:
    def countBits(self, num: int) -> List[int]:
        res = []
        for i in range(num + 1):
            res.append(bin(i).count('1', 2))
        return res
```

dp方法1：
- 某个偶数肯定能由前面的某个数左移一位得到，如十进制6对应的二进制为110，由十进制3对应二进制11左移一位得到。
- 某个奇数肯定能由前面的某个数左移一位并加上1得到，如十进制7对应的二进制为111，是由十进制3对应二进制11左移一位为110并加一得到。  
O(n)/O(n)
```python
class Solution:
    def countBits(self, num: int) -> List[int]:
        dp=[0]*(num+1)
        for i in range(num//2+1):
            dp[i*2]=dp[i] # 偶数位1
            if i*2+1<=num:
                dp[i*2+1]=dp[i]+1 # 奇数位1
        return dp
```
dp方法2：
- 通过i&(i-1)消除最低位，剩余的数同样小于当前的i且已被计算过。
- 状态转移方程：dp[i]=dp[i&(i-1)]+1。  
O(n)/O(n)
```python
class Solution:
    def countBits(self, num: int) -> List[int]:
        dp=[0]*(num+1)
        for i in range(1,num+1):
            dp[i]=dp[i&(i-1)]+1
        return dp
```
